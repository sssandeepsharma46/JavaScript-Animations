<!DOCTYPE html>
<html>

<head>
    <title>
        Logic Games
    </title>
</head>

<body>
    <canvas id="canvas" width="600" height="500"></canvas>
    <script type="text/javascript">
        const canvas = document.getElementById('canvas');
        canvas.style.background = "#000";
        context = canvas.getContext('2d');
        var duplicateANDGate = null;

        let mainANDGate = new ANDGate(50, 100, 0, 0, 50);
        let mainORGate = new ORGate(200, 100, 0, 0, 50);
        let mainNANDGate = new NANDGate(350, 100, 0, 0, 50);
        let mainNORGate = new NORGate(50, 200, 0, 0, 50);
        let mainENORGate = new ENORGate(200, 200, 0, 0, 50);
        let mainEORGate = new EORGate(350, 200, 0, 0, 50);
        let mainNOTGate=new NOTGate(50,300,0,50);
        
        mainANDGate.showANDGate();
        mainANDGate.AND(1,1);
        mainORGate.showORGate();
        mainNANDGate.showNANDGate();
        mainNORGate.showNORGate();
        mainENORGate.showENORGate();
        mainEORGate.showEORGate();
        mainNOTGate.showNOTGate();
        //mainANDGate.feedInput(1,0);
        //mainORGate.feedInput(1,0);
        
        //console.log(ANDGate.ANDOperation());
        //mainANDGate.feedInput(1, 1);
        //console.log(ANDGate.ANDOperation());

        //Basic AND logic Gate
        function ANDGate(x, y, inputA, inputB, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;
            this.inputB = inputB;
            this.size = size;

            this.showANDGate = function() {
                //context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.fillStyle = "#fff";
                context.fillRect(this.x, this.y, this.size, this.size);
                context.arc(this.x + this.size - 5, this.y + this.size / 2, this.size / 2, Math.PI / 2, Math.PI, true);
                context.fill();
                context.closePath();
                context.beginPath();
                context.strokeStyle = "#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 4);
                context.lineTo(this.x, this.y + this.size / 4);
                context.stroke();
                context.moveTo(this.x - this.size / 2, this.y + (this.size - this.size / 4));
                context.lineTo(this.x, this.y + (this.size - this.size / 4));
                context.stroke();
                context.moveTo(this.x + this.size, this.y + this.size / 2);
                context.lineTo(this.x + 2 * this.size, this.y + this.size / 2);
                context.stroke();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 8, this.y + this.size / 4);
                context.fillText('B', this.x + this.size / 8, this.y + (this.size - this.size / 8));
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 6);
                context.fillText(this.inputB, this.x - this.size / 5, this.y + (this.size - this.size / 3));
                context.fillText(this.ANDOperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.ANDOperation = function() {
                if (this.inputA === 0 && this.inputB === 0) {
                    return 0;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 0;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 0;
                } else {
                    return 1;
                }
            }
            
            this.AND=function(inputA, inputB){
                this.inputA=inputA;
                this.inputB=inputB;
                if (this.inputA === 0 && this.inputB === 0) {
                    return 0;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 0;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 0;
                } else {
                    return 1;
                }
            }
            
            this.feedInput = function(inputA, inputB) {
                this.inputA = inputA;
                this.inputB = inputB;
                context.clearRect(this.x-this.size, this.y, this.size*2, this.size*2);
                this.showANDGate();
            }
        }

        //OR logic Gate
        function ORGate(x, y, inputA, inputB, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;
            this.inputB = inputB;
            this.size = size;

            this.showORGate = function() {
                //context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.fillStyle = "#fff";
                context.lineWidth=3;
                context.moveTo(this.x, this.y);
                context.quadraticCurveTo(this.x+this.size/2, this.y+this.size/2, this.x, this.y+this.size);
                //context.moveTo(this.x,this.y+size);
                context.quadraticCurveTo(this.x+this.size,this.y+(this.size+this.size/4),this.x+this.size*1.5,this.y+this.size/2);
                context.quadraticCurveTo(this.x+this.size,this.y-this.size/4,this.x,this.y)                
                context.closePath();                                
                context.fill();
                context.beginPath();
                context.strokeStyle = "#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 4);
                context.lineTo(this.x+this.size/4, this.y + this.size / 4);
                context.stroke();
                context.moveTo(this.x - this.size / 2, this.y + (this.size - this.size / 4));
                context.lineTo(this.x+this.size/4, this.y + (this.size - this.size / 4));
                context.stroke();
                context.moveTo(this.x + this.size, this.y + this.size / 2);
                context.lineTo(this.x + 2 * this.size, this.y + this.size / 2);
                context.stroke();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 6, this.y + this.size / 4);
                context.fillText('B', this.x + this.size / 6, this.y + (this.size - this.size / 8));
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 6);
                context.fillText(this.inputB, this.x - this.size / 5, this.y + (this.size - this.size / 3));
                context.fillText(this.OROperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.OROperation = function() {
                if (this.inputA === 0 && this.inputB === 0) {
                    return 0;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 1;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 1;
                } else {
                    return 1;
                }
            }
            
            this.OR=function(inputA, inputB){
                this.inputA=inputA;this.inputB=inputB;
                if (this.inputA === 0 && this.inputB === 0) {
                    return 0;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 1;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 1;
                } else {
                    return 1;
                }
            }
            this.feedInput = function(inputA, inputB) {
                this.inputA = inputA;
                this.inputB = inputB;
                context.clearRect(this.x-size, this.y, this.size*2, this.size*2);
                this.showORGate();
            }
        }
        
        //Basic NAND logic Gate
        function NANDGate(x, y, inputA, inputB, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;
            this.inputB = inputB;
            this.size = size;

            this.showNANDGate = function() {
                //context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.fillStyle = "#fff";
                context.fillRect(this.x, this.y, this.size, this.size);
                context.arc(this.x + this.size - 5, this.y + this.size / 2, this.size / 2, Math.PI / 2, Math.PI, true);               
                context.fill();
                context.closePath();
                context.beginPath();
                context.fillStyle = "#fff";
                context.arc(this.x + this.size+this.size/2, this.y + this.size / 2, this.size / 6, 0, Math.PI*2, true);
                context.fill();
                context.closePath();
                context.beginPath();
                context.strokeStyle = "#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 4);
                context.lineTo(this.x, this.y + this.size / 4);
                context.stroke();
                context.moveTo(this.x - this.size / 2, this.y + (this.size - this.size / 4));
                context.lineTo(this.x, this.y + (this.size - this.size / 4));
                context.stroke();
                context.moveTo(this.x + this.size, this.y + this.size / 2);
                context.lineTo(this.x + 2 * this.size, this.y + this.size / 2);
                context.stroke();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 8, this.y + this.size / 4);
                context.fillText('B', this.x + this.size / 8, this.y + (this.size - this.size / 8));
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 6);
                context.fillText(this.inputB, this.x - this.size / 5, this.y + (this.size - this.size / 3));
                context.fillText(this.NANDOperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.NANDOperation = function() {
                if (this.inputA === 0 && this.inputB === 0) {
                    return 1;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 1;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 1;
                } else {
                    return 0;
                }
            }
            
            this.NAND=function(inputA, inputB){
                this.inputA=inputA; this.inputB=inputB;
                if (this.inputA === 0 && this.inputB === 0) {
                    return 1;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 1;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 1;
                } else {
                    return 0;
                }
            }
            this.feedInput = function(inputA, inputB) {
                this.inputA = inputA;
                this.inputB = inputB;
                context.clearRect(this.x, this.y, canvas.width, canvas.height);
                this.showNANDGate();
            }
        }
        

        //NOR logic Gate
        function NORGate(x, y, inputA, inputB, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;
            this.inputB = inputB;
            this.size = size;

            this.showNORGate = function() {
                //context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.fillStyle = "#fff";
                context.lineWidth=3;
                context.moveTo(this.x, this.y);
                context.quadraticCurveTo(this.x+this.size/2, this.y+this.size/2, this.x, this.y+this.size);
                //context.moveTo(this.x,this.y+size);
                context.quadraticCurveTo(this.x+this.size,this.y+(this.size+this.size/4),this.x+this.size*1.5,this.y+this.size/2);
                context.quadraticCurveTo(this.x+this.size,this.y-this.size/4,this.x,this.y)                
                context.closePath();                  
                context.fill();
                context.beginPath();
                context.arc(this.x+size*1.5,this.y+this.size/2,this.size/6,0,Math.PI*2);
                context.fill();
                context.closePath();
                context.beginPath();
                context.strokeStyle = "#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 4);
                context.lineTo(this.x+this.size/4, this.y + this.size / 4);
                context.stroke();
                context.moveTo(this.x - this.size / 2, this.y + (this.size - this.size / 4));
                context.lineTo(this.x+this.size/4, this.y + (this.size - this.size / 4));
                context.stroke();
                context.moveTo(this.x + this.size, this.y + this.size / 2);
                context.lineTo(this.x + 2 * this.size, this.y + this.size / 2);
                context.stroke();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 6, this.y + this.size / 4);
                context.fillText('B', this.x + this.size / 6, this.y + (this.size - this.size / 8));
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 6);
                context.fillText(this.inputB, this.x - this.size / 5, this.y + (this.size - this.size / 3));
                context.fillText(this.NOROperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.NOROperation = function() {
                if (this.inputA === 0 && this.inputB === 0) {
                    return 1;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 0;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 0;
                } else {
                    return 0;
                }
            }
            
            this.NOR=function(inputA, inputB){
                this.inputA=inputA; this.inputB=inputB;
                if (this.inputA === 0 && this.inputB === 0) {
                    return 1;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 0;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 0;
                } else {
                    return 0;
                }
            }
            this.feedInput = function(inputA, inputB) {
                this.inputA = inputA;
                this.inputB = inputB;
                context.clearRect(0, 0, canvas.width, canvas.height);
                this.showNORGate();
            }
        }
        
        //ENOR logic Gate
        function ENORGate(x, y, inputA, inputB, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;
            this.inputB = inputB;
            this.size = size;

            this.showENORGate = function() {
                //context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.strokeStyle="#fff";
                context.moveTo(this.x-size/10,this.y);
                context.quadraticCurveTo((this.x-this.size/10)+this.size/2,this.y+this.size/2,(this.x-this.size/10),this.y+this.size);
                context.stroke();
                context.closePath();
                context.beginPath();
                context.fillStyle = "#fff";
                //context.lineWidth=3;
                context.moveTo(this.x, this.y);
                context.quadraticCurveTo(this.x+this.size/2, this.y+this.size/2, this.x, this.y+this.size);
                //context.moveTo(this.x,this.y+size);
                context.quadraticCurveTo(this.x+this.size,this.y+(this.size+this.size/4),this.x+this.size*1.5,this.y+this.size/2);
                context.quadraticCurveTo(this.x+this.size,this.y-this.size/4,this.x,this.y)                
                context.closePath();                 
                context.fill();
                context.beginPath();
                context.arc(this.x+size*1.5,this.y+this.size/2,this.size/6,0,Math.PI*2);
                context.fill();
                context.closePath();                
                context.beginPath();
                context.strokeStyle = "#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 4);
                context.lineTo(this.x+this.size/4, this.y + this.size / 4);
                context.stroke();
                context.moveTo(this.x - this.size / 2, this.y + (this.size - this.size / 4));
                context.lineTo(this.x+this.size/4, this.y + (this.size - this.size / 4));
                context.stroke();
                context.moveTo(this.x + this.size, this.y + this.size / 2);
                context.lineTo(this.x + 2 * this.size, this.y + this.size / 2);
                context.stroke();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 6, this.y + this.size / 4);
                context.fillText('B', this.x + this.size / 6, this.y + (this.size - this.size / 8));
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 6);
                context.fillText(this.inputB, this.x - this.size / 5, this.y + (this.size - this.size / 3));
                context.fillText(this.ENOROperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.ENOROperation = function() {
                if (this.inputA === 0 && this.inputB === 0) {
                    return 1;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 0;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 0;
                } else {
                    return 1;
                }
            }
            
            this.ENOR=function(inputA,inputB){
                this.inputA=inputA; this.inputB=inputB;
                if (this.inputA === 0 && this.inputB === 0) {
                    return 1;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 0;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 0;
                } else {
                    return 1;
                }
            }
            this.feedInput = function(inputA, inputB) {
                this.inputA = inputA;
                this.inputB = inputB;
                context.clearRect(0, 0, canvas.width, canvas.height);
                this.showENORGate();
            }
        }
        
        
        //EOR logic Gate
        function EORGate(x, y, inputA, inputB, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;
            this.inputB = inputB;
            this.size = size;

            this.showEORGate = function() {
                //context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.strokeStyle="#fff";
                context.moveTo(this.x-size/10,this.y);
                context.quadraticCurveTo((this.x-this.size/10)+this.size/2,this.y+this.size/2,(this.x-this.size/10),this.y+this.size);
                context.stroke();
                context.closePath();
                context.beginPath();
                context.fillStyle = "#fff";
                //context.lineWidth=3;
                context.moveTo(this.x, this.y);
                context.quadraticCurveTo(this.x+this.size/2, this.y+this.size/2, this.x, this.y+this.size);
                //context.moveTo(this.x,this.y+size);
                context.quadraticCurveTo(this.x+this.size,this.y+(this.size+this.size/4),this.x+this.size*1.5,this.y+this.size/2);
                context.quadraticCurveTo(this.x+this.size,this.y-this.size/4,this.x,this.y)                
                context.closePath();                 
                context.fill();                               
                context.beginPath();
                context.strokeStyle = "#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 4);
                context.lineTo(this.x+this.size/4, this.y + this.size / 4);
                context.stroke();
                context.moveTo(this.x - this.size / 2, this.y + (this.size - this.size / 4));
                context.lineTo(this.x+this.size/4, this.y + (this.size - this.size / 4));
                context.stroke();
                context.moveTo(this.x + this.size, this.y + this.size / 2);
                context.lineTo(this.x + 2 * this.size, this.y + this.size / 2);
                context.stroke();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 6, this.y + this.size / 4);
                context.fillText('B', this.x + this.size / 6, this.y + (this.size - this.size / 8));
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 6);
                context.fillText(this.inputB, this.x - this.size / 5, this.y + (this.size - this.size / 3));
                context.fillText(this.EOROperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.EOROperation = function() {
                if (this.inputA === 0 && this.inputB === 0) {
                    return 0;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 1;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 1;
                } else {
                    return 0;
                }
            }
            
            this.EOR=function(inputA, inputB){
                this.inputA=inputA; this.inputB=inputB;
                if (this.inputA === 0 && this.inputB === 0) {
                    return 0;
                } else if (this.inputA === 0 && this.inputB === 1) {
                    return 1;
                } else if (this.inputA === 1 && this.inputB === 0) {
                    return 1;
                } else {
                    return 0;
                }
            }
            
            this.feedInput = function(inputA, inputB) {
                this.inputA = inputA;
                this.inputB = inputB;
                context.clearRect(0, 0, canvas.width, canvas.height);
                this.showEORGate();
            }
        }
        
        //EOR logic Gate
        function NOTGate(x, y, inputA, size) {
            this.x = x;
            this.y = y;
            this.inputA = inputA;            
            this.size = size;

            this.showNOTGate = function() {                                
                context.beginPath();
                context.fillStyle = "#fff";
                //context.lineWidth=3;
                context.moveTo(this.x, this.y);
                context.lineTo(this.x,this.y+this.size);
                context.lineTo(this.x+this.size,this.y+this.size/2);
                context.closePath();
                context.fill();
                                             
                context.beginPath();
                context.arc(this.x+this.size+this.size/6,this.y+this.size/2,this.size/6,0,Math.PI*2);
                context.fill();
                context.closePath();
                context.beginPath();
                context.strokeStyle="#fff";
                context.lineWidth = 4;
                context.moveTo(this.x - this.size / 2, this.y + this.size / 2);
                context.lineTo(this.x, this.y + this.size / 2);
                context.stroke();                                
                context.moveTo(this.x + this.size+this.size/6, this.y +this.size / 2);
                context.lineTo(this.x + this.size+this.size, this.y +this.size / 2);
                context.stroke();
                context.closePath();
                
                context.beginPath();
                context.font = "15px Arial";
                context.fillStyle = "red";
                context.fillText('A', this.x + this.size / 6, this.y + this.size / 2);                
                context.fillStyle = "yellow";
                context.fillText(this.inputA, this.x - this.size / 5, this.y + this.size / 3);                
                context.fillText(this.NOTperation(), this.x + 2 * this.size, this.y + this.size / 2 - this.size / 10);
                context.closePath();
            }

            this.NOTperation = function() {
                if (this.inputA === 0) {
                    return 1;
                } else {
                    return 0;
                }
            }
            
            this.NOT=function(inputA){
                this.inputA=inputA;
                if (this.inputA === 0) {
                    return 1;
                } else {
                    return 0;
                } 
            }
            
            this.feedInput = function(inputA) {
                this.inputA = inputA;                
                context.clearRect(0, 0, canvas.width, canvas.height);
                this.showNOTGate();
            }
        }
        
        document.addEventListener('mousedown', drawGate);
        document.addEventListener('mousemove', onMouseMoveHandler);
        document.addEventListener('mouseup', onMouseUpHandler);
        let isMouseDown = false;

        function onMouseUpHandler(e) {
            isMouseDown = false;
        }

        function drawGate(e) {
            isMouseDown = true;
            if (e.pageX > mainANDGate.x && e.pageX < mainANDGate.x + mainANDGate.size && e.pageY > mainANDGate.y && e.pageY < ANDGate.y + ANDGate.size) {
                duplicateANDGate = mainANDGate;
                console.log(duplicateANDGate.x, duplicateANDGate.y);
            }
            // if (duplicateANDGame != null) {
            //     duplicateANDGame.x = e.pageY;
            //     duplicateANDGame.y = e.pageY;
            //     duplicateANDGame.showANDGate();
            // }
        }

        function onMouseMoveHandler(e) {
            if (isMouseDown) {
                if (duplicateANDGate != null) {
                    duplicateANDGate.x = e.pageX;
                    duplicateANDGate.y = e.pageY;
                    context.clearRect(0, 0, canvas.width, canvas.height);
                    duplicateANDGate.showANDGate();
                }
            }
        }
    </script>
</body>

</html>